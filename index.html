<html lang="en" class="no-js">

<head>
	<meta charset="utf-8">
	<title>Biolovision2eBird | Zoziologie</title>
	<meta name="description" content="My personal website for bird related stuff.">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<script src="https://kit.fontawesome.com/f15ed359e8.js" crossorigin="anonymous"></script>
	<script src="https://code.jquery.com/jquery-3.5.1.min.js"
		integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous">
	</script>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.26.0/moment.min.js" type="text/javascript"></script>

	<link rel="stylesheet" href="//unpkg.com/leaflet/dist/leaflet.css">
	<script src="//unpkg.com/leaflet/dist/leaflet.js"></script>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.4/leaflet.draw.js" type="text/javascript">
	</script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.4/leaflet.draw.css"
		type="text/css">
	<script src="https://cdn.jsdelivr.net/npm/leaflet-makimarkers@3.1.0/Leaflet.MakiMarkers.min.js"
		type="text/javascript"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.4.1/leaflet.markercluster.js"
		type="text/javascript"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.4.1/MarkerCluster.css"
		type="text/css">
	<link rel="stylesheet"
		href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.4.1/MarkerCluster.Default.css"
		type="text/css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-providers/1.10.2/leaflet-providers.min.js"
		type="text/javascript"></script>
	<link rel="stylesheet"
		href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.min.js">
	</script>
	<script src="https://cdn.rawgit.com/jieter/Leaflet.encoded/master/Polyline.encoded.js" type="text/javascript">
	</script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/dragula/3.7.2/dragula.min.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/dragula/3.7.2/dragula.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/x2js/1.2.0/xml2json.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.8.0/jszip.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.8.0/xlsx.js"></script>

	<script src="./script.js" type="text/javascript"></script>
	<link rel="stylesheet" href="./style.css" type="text/css">
	<script src="/token.js" type="text/javascript"></script>

</head>

<body class="bg-light">
	<main class="container">
		<div class="d-flex align-items-center p-3 my-3 text-white rounded shadow-sm bg-dblue" >
			<img class="me-3" src="/assets/logo.svg" alt="" width="48" height="38">
			<div class="lh-1">
				<h1 class="h6 mb-0 text-white lh-1">Biolovision2eBird</h1>
				<small>Convert biolovision data to eBird!</small>
			</div>
		</div>


		<div id="c0" class="my-3 p-3 bg-body rounded shadow-sm">
			<h2 class="border-bottom pb-2 mb-3">Introduction</h2>
			<div class="container">
				<div class="row">
					<div class="col-lg-6">
						<p><strong>Biolovision2eBird</strong> helps you to import your data from any biolovision website
							(e.g.
							<a href="http://ornitho.ch/" target="_blank">ornitho.ch</a>, <a
								href="http://faune-alsace.org" target="_blank">faune-alsace</a>, ...), observado (e.g.
							<a href="https://waarneming.nl/" target="_blank">waarneming.nl</a>), birdtrack (<a
								href="https://www.bto.org/our-science/projects/" target="_blank">birdtrack</a>) and <a
								href="https://www.birdlasser.com/" target="_blank">birdlasser</a> to eBird! </p>
						<p>The process is quite simple: (1) upload the file with your data, (2) match the data to eBird
							checklist format, (3) download an <a
								href="http://help.ebird.org/customer/portal/articles/973915-uploading-data-to-ebird#ebird-record-format-specifications"
								target="_blank" rel="noopener">eBird Record Format</a> and (4) upload the file on eBird.
						</p>
						<p>Any comments or suggestions? Please submit an issue on <a
								href="https://github.com/Zoziologie/Biolovision2eBird/issues" target="_blank"><i
									class="fab fa-fw fa-github" aria-hidden="true"></i> Github</a> or <a
								href="mailto:rafnuss@gmail.com" rel="nofollow noopener noreferrer"><i
									class="fas fa-fw fa-envelope-square" aria-hidden="true"></i> contact me</a>.</p>
					</div>
					<div class="col-lg-6">
						<img src="./assets/b2e.gif" alt="Example" class="gif">
					</div>
				</div>
			</div>
		</div>

		<div id="c1" class="my-3 p-3 bg-body rounded shadow-sm">
			<h2 class="border-bottom pb-2 mb-3">1. Import Biolovision data</h2>
			<ol>
				<li>
					<p>First, you need to export your file from your original website. The form below will direct you to
						the
						export page of each websites. You might have to first login in the website and re-click on the
						link.
						Each website uses a different format: observado <tt>csv</tt>, birdtrack <tt>xlsx</tt>. For
						biolovision websites, select the <tt>json</tt> <img src="./assets/json.png" alt="json" /> and
						for birdlasser, you can only download the data from the app (to my knowledge)
						(Select the trip card and use "Export (CSV) trip card")</p>
					<form onsubmit="downloadfx(); return false;" class="form-in row text-white rounded bg-dblue">
						<div class="col-lg-3 form-group">
							<label for="sel-website">a) Select a website:</label>
							<select class="form-control" id="sel-website">
								<option value="data.biolovision.net">biolovision.net</option>
								<option value="birdlasser">birdlasser</option>
								<option value="birdtrack">birdtrack</option>
								<option value="www.faune-Cher.org">faune-Cher.org</option>
								<option value="www.faune-ain.org">faune-ain.org</option>
								<option value="www.faune-alsace.org">faune-alsace.org</option>
								<option value="www.faune-anjou.org">faune-anjou.org</option>
								<option value="www.faune-aquitaine.org">faune-aquitaine.org</option>
								<option value="www.faune-ardeche.org">faune-ardeche.org</option>
								<option value="www.faune-auvergne.org">faune-auvergne.org</option>
								<option value="www.faune-bretagne.org">faune-bretagne.org</option>
								<option value="www.faune-champagne-ardenne.org">faune-champagne-ardenne.org</option>
								<option value="www.faune-charente-maritime.org">faune-charente-maritime.org</option>
								<option value="www.faune-charente.org">faune-charente.org</option>
								<option value="www.faune-drome.org">faune-drome.org</option>
								<option value="www.faune-france.org">faune-france.org</option>
								<option value="www.faune-iledefrance.org">faune-iledefrance.org</option>
								<option value="www.faune-isere.org">faune-isere.org</option>
								<option value="www.faune-limousin.eu">faune-limousin.eu</option>
								<option value="www.faune-loire-atlantique.org">faune-loire-atlantique.org</option>
								<option value="www.faune-loire.org">faune-loire.org</option>
								<option value="www.faune-lorraine.org">faune-lorraine.org</option>
								<option value="www.faune-lr.org">faune-lr.org</option>
								<option value="www.faune-maine.org">faune-maine.org</option>
								<option value="www.faune-martinique.org">faune-martinique.org</option>
								<option value="www.faune-nievre.org">faune-nievre.org</option>
								<option value="www.faune-paca.org">faune-paca.org</option>
								<option value="www.faune-reunion.fr">faune-reunion.fr</option>
								<option value="www.faune-rhone.org">faune-rhone.org</option>
								<option value="www.faune-savoie.org">faune-savoie.org</option>
								<option value="www.faune-tarn-aveyron.org">faune-tarn-aveyron.org</option>
								<option value="www.faune-touraine.org">faune-touraine.org</option>
								<option value="www.faune-vendee.org">faune-vendee.org</option>
								<option value="www.faune-yonne.org">faune-yonne.org</option>
								<option value="franche-comte.lpo.fr">franche-comte.lpo.fr</option>
								<option value="haute-savoie.lpo.fr">haute-savoie.lpo.fr</option>
								<option value="www.nature79.org">nature79.org</option>
								<option value="observation.org">observation.org</option>
								<option value="www.oiseaux-cote-dor.org">oiseaux-cote-dor.org</option>
								<option value="www.ornitho.at">ornitho.at</option>
								<option value="www.ornitho.cat">ornitho.cat</option>
								<option value="www.ornitho.ch" selected="selected">ornitho.ch</option>
								<option value="www.ornitho.de">ornitho.de</option>
								<option value="www.ornitho.eus">ornitho.eus</option>
								<option value="www.ornitho.it">ornitho.it</option>
								<option value="www.ornitho.lu">ornitho.lu</option>
								<option value="www.ornitho.pl">ornitho.pl</option>
								<option value="vienne.lpo.fr">vienne.lpo.fr</option>
								<option value="waarneming.nl">waarneming.nl</option>
								<option value="waarnemingen.be">waarnemingen.be</option>
							</select>
						</div>
						<div class="col-lg-6 form-group">
							<label style="display: block;">b) Select Date:</label>
							<div class="col-lg-12">
								<div class="radio"><label><input checked="checked" name="radio_date" type="radio"
											value="offset" /> <input id="date_ago" class="form-control" min="0"
											type="number" value="1" /> days ago</label></div>
							</div>
							<div class="col-lg-12">
								<div class="radio">
									<label>
										<input name="radio_date" type="radio" value="range" />
										<div class="input-group ">
											<input id="input-date-from" class="form-control" type="date" />
											<span class="input-group-addon">to</span>
											<input id="input-date-to" class="form-control" type="date" />
										</div>
									</label>
								</div>
							</div>
						</div>
						<div class="col-lg-3 form-group"><label for="link-id">c) Download file</label>
							<button id="link-id" class="btn btn-default" type="submit">Go to export webpage</button>
						</div>
					</form>
				</li>
				<li>
					<p>Then, define the global settings for all checklists. This can still be changed for each
						checklists
						individually. These settings will be saved in your cookies once you upload a file, such that
						next time
						you
						come back, the same settings will be set by default.</p>
					<form class="row form-inline text-white rounded bg-dblue form-in">
						<div class="col-lg-3">
							<label for="nb-obs">Number of observers:</label>
							<input id="nb-obs" type="number" class="form-control" value="1">
						</div>
						<div class="col-lg-6">
							<div class="form-check">
								<input class="form-check-input" type="checkbox" disabled id="incl-weather">
								<label class="form-check-label" for="incl-weather">
									Include weather information in checklist comment.
								</label>
							</div>
							<div class="form-check">
								<input class="form-check-input" type="checkbox" id="incl-map">
								<label class="form-check-label" for="incl-map">
									Include static map in checklist comment.
								</label>
							</div>
							<div class="form-check">
								<input class="form-check-input" type="checkbox" id="incl-sp-cmt">
								<label class="form-check-label" for="incl-sp-cmt">
									Include	details in species comment.
								</label>
							</div>
						</div>
						<div class="col-lg-3"><label for="sel-website-link">Link website:</label>
							<input id="sel-website-link" class="form-control" list="websites" name="website-link"
								type="text" value="www.ornitho.ch" />
						</div>
					</form>
				</li>
				<li>
					<p>Drag the export file <tt>json</tt> (biolovision), <tt>xlsx</tt> (birdtrack) or <tt>csv</tt>
						(observado)
						file
						on the zone below (or click on the zone to open the input window).</p>
					<div id="drobox-outer">
						<div id="dropbox">
							Upload the exported file with a drag-and-drop with a click on this zone
							<input id="upload" style="display: none;" type="file" accept=".json,.csv,.xls,.xlsx"/>
						</div>
					</div>
				</li>
			</ol>
		</div>

		<div id="c2" class="my-3 p-3 bg-body rounded shadow-sm" style="display: none;">
			<h2 class="border-bottom pb-2 mb-3">2. Assign sightings to checklist</h2>
			<div class="container">
				<div class="row">
					<p>The first step is to assign incidental sightings (e.g. <img src="./assets/pin-s-xfff.png"
							height="30" />) to a checklist (e.g. <img src="./assets/markers-soft.png" alt=""
							height="30" />). You can either
						create a new checklist or use existing one from imported biolovision list. </p>
					<p>To assign a sightings to a checklist, select the desired checklist in the list below and click on
						"Attribute Sightings". This will allow you to draw a rectangle over the sighting(s) you want to
						assign
						to the list selected in the list. The sightings markers color will change according to the
						checklist's
						color. Remaining non-assigned sightings (white marker) will be deleted.</p>
					<p>Instead of doing this process manually, there is (new) an "Automatic Attribution". This "magic"
						function
						will create checklists and attribute the corresponding incidental sightings automotically. The
						function
						is based on a distance and duration threashold to aggregate sightings together. You can still
						edit
						automotic attribution later.</p>
					<p>Once you have finish just click on be button below the map to carry on the process...</p>
				</div>
				<div id="assign-row" class="row ">
					<div class="col-lg-3"><label for="button-create-hotspot">Add a marker on the map:</label>
						<button id="button-create-hotspot" class="btn btn-block btn-default"><i class="fa fa-list"></i>
							Create
							Checklist</button>
					</div>
					<div class="col-lg-5"><label for="selHotspot">Select the checklist to which attribute
							sightings:</label>
						<select id="selHotspot" class="form-control">
						</select>
					</div>
					<div class="col-lg-4"><label for="button-select-hotspot">Draw a rectangle over the
							sightings:</label>
						<button id="button-select-hotspot" class="btn btn-block btn-default"><i
								class="fa fa-square"></i>
							Attribute Sightings</button>
					</div>
				</div>
				<div class="row">
					<div class="col-lg-3"><label for="assign_dt">Threshold distance (m):</label>
						<input id="assign_dt" class="form-control" min="0" type="number" value="500">
					</div>
					<div class="col-lg-3"><label for="assign_dd">Threshold duration (hour):</label>
						<input id="assign_dd" class="form-control" min="0" type="number" value="1">
					</div>
					<div class="col-lg-6"><label for="assign_dd">Create hotspots and assign incidental
							sightings:</label>
						<button id="button-auto-assign" class="btn btn-block btn-default"><i
								class="fa fa-magic"></i>Automatic
							Attribution</button>
					</div>
				</div>
				<div class="row">
					<div id="modal-map" class="map" style="height: 500px; margin-bottom: 20px;"></div>
					<button id="button-process" class="btn btn-block btn-default">I'm done. Let's carry on...</button>
				</div>
			</div>
		</div>



		<div id="c3" class="my-3 p-3 bg-body rounded shadow-sm" style="display: none;">
			<h2 class="border-bottom pb-2 mb-3">3. Modify checklists</h2>
			<div class="container">
				<p>You can navigate into each checklist by clicking on the tab and modify each of them as desire. In
					addition,
					we automatically added a few improvement such as exact timing and location of each observation in
					comment or
					a static map with location of your sightings. Feel free to remove them of modify them </p>
				<nav>
					<div class="nav nav-tabs" role="tablist"></div>
				</nav>
				<div class="tab-content" id="tab-checklists"></div>
			</div>
		</div>

		<div id="c4" class="my-3 p-3 bg-body rounded shadow-sm" style="display: none;">
			<h2 class="border-bottom pb-2 mb-3">Upload your data in eBird</h2>
			<p>First, download the eBird file (<tt>.csv</tt>) for the checklist(s) by clicking on the buttons below:</p>
			<div class="text-center">
				<button type="button" id="button-download-biolovision" class="btn btn-default">
					<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"
						style="display: none;"></span>
					Export all checklists
				</button>
				<button type="button" id="button-download-biolovision-single" class="btn btn-default">
					<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"
						style="display: none;"></span>
					Export only active checklist
				</button>
			</div>
			<p>Then, upload the eBird formatted file on eBird, following the process below:</p>
			<ul>
				<li>Open eBird, go to "Submit Observations", and "Import Data" or click on <a class=""
						href="http://ebird.org/ebird/import/upload.form?theme=ebird" target="_blank"
						rel="noopener">eBird Import</a></li>
				<li>Choose "eBird Record Format (Extended)", and load the file which was downloaded at the
					ttvious
					step.</li>
				<li>Click on "Import File"</li>
				<li>Probably that some specie won't be recognized. You will have to match them with the
					correct
					specie. Don't worry, this is only done once per specie, then eBird memorize the match!
				</li>
			</ul>
		</div>

	</main>
</body>